<div class="app-bg">
  <%= render "shared/app_header", project: @project %>

  <main class="max-w-4xl mx-auto px-4 py-8 sm:px-6 lg:px-8">
    <div class="app-surface shadow rounded-lg">
      <div class="px-6 py-4 border-b app-border flex justify-between items-center">
        <div>
          <h3 class="text-lg font-semibold app-text">Help Centre Sections</h3>
          <p class="mt-1 text-sm app-text-secondary">Organize articles by user goals</p>
        </div>
        <div class="flex gap-2">
          <% if @project.analysis_status == "completed" %>
            <%= button_to "Suggest Sections",
                suggest_sections_project_sections_path(@project),
                method: :post,
                class: "inline-flex items-center px-3 py-1.5 border app-border-strong shadow-sm text-sm font-medium rounded-md app-text-secondary app-surface hover:app-surface-alt" %>
          <% end %>
          <%= link_to "Add Section",
              new_project_section_path(@project),
              class: "inline-flex items-center px-3 py-1.5 border border-transparent shadow-sm text-sm font-medium rounded-md text-white app-accent-bg hover:app-accent-bg" %>
        </div>
      </div>

      <div id="sections-list">
        <% if @sections.any? %>
          <div class="divide-y app-border">
            <% @sections.each do |section| %>
              <%= render "sections/card", section: section, project: @project %>
            <% end %>
          </div>
        <% else %>
          <div class="p-6 text-center app-text-secondary">
            No sections yet. Template sections will be created automatically.
          </div>
        <% end %>
      </div>
    </div>
  </main>
</div>
