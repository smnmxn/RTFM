<nav aria-label="Progress">
  <ol class="flex items-center justify-between">
    <% steps = [
      { num: 1, name: "Setup" },
      { num: 2, name: "Connect" },
      { num: 3, name: "Analyze" },
      { num: 4, name: "Review" }
    ] %>
    <% steps.each_with_index do |step, index| %>
      <li class="relative flex flex-col items-center <%= 'flex-1' unless index == steps.length - 1 %>">
        <div class="flex items-center w-full">
          <% if step[:num] < current_step %>
            <!-- Completed step -->
<div class="flex h-10 w-10 items-center justify-center rounded-full bg-gradient-brand shadow-sm">
              <%= heroicon "check", variant: :solid, options: { class: "h-5 w-5 text-white" } %>
            </div>
          <% elsif step[:num] == current_step %>
            <!-- Current step -->
            <div class="flex h-10 w-10 items-center justify-center rounded-full border-2 border-violet-600 bg-white ring-glow">
              <span class="text-violet-600 font-semibold"><%= step[:num] %></span>
            </div>
          <% else %>
            <!-- Upcoming step -->
            <div class="flex h-10 w-10 items-center justify-center rounded-full border-2 border-slate-300 bg-white">
              <span class="text-slate-400"><%= step[:num] %></span>
            </div>
          <% end %>

          <% unless index == steps.length - 1 %>
            <!-- Connector line -->
            <div class="flex-1 h-0.5 mx-3 <%= step[:num] < current_step ? 'bg-gradient-connector' : 'bg-slate-200' %>"></div>
          <% end %>
        </div>

        <!-- Step name below circle -->
        <span class="mt-2 text-xs font-medium <%= step[:num] <= current_step ? 'text-violet-600' : 'text-slate-400' %>">
          <%= step[:name] %>
        </span>
      </li>
    <% end %>
  </ol>
</nav>
