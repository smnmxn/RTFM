<div data-controller="notification-prompt" class="shrink-0">
  <%# Prompt state (default permission) %>
  <div data-notification-prompt-target="prompt" class="hidden">
    <div class="bg-white border border-slate-200 rounded-lg p-4 shadow-sm max-w-[200px]">
      <div class="flex items-center gap-2 mb-2">
        <%= heroicon "bell", variant: :outline, options: { class: "w-4 h-4 text-violet-500" } %>
        <span class="text-sm font-medium text-slate-900">Come back later?</span>
      </div>
      <p class="text-xs text-slate-500 mb-3">Turn on notifications and we'll let you know when things are ready.</p>
      <div class="flex items-center gap-2">
        <button type="button"
                data-action="notification-prompt#enable"
                class="text-xs font-medium text-white bg-violet-600 hover:bg-violet-700 px-3 py-1.5 rounded-md transition-colors">
          Notify me
        </button>
        <button type="button"
                data-action="notification-prompt#dismiss"
                class="text-xs text-slate-400 hover:text-slate-500">
          No thanks
        </button>
      </div>
    </div>
  </div>

  <%# Granted state %>
  <div data-notification-prompt-target="granted" class="hidden">
    <div class="bg-green-50 border border-green-200 rounded-lg p-4 max-w-[200px]">
      <div class="flex items-center gap-2 mb-1">
        <%= heroicon "bell-alert", variant: :solid, options: { class: "w-4 h-4 text-green-500" } %>
        <span class="text-sm font-medium text-green-800">Notifications on</span>
      </div>
      <p class="text-xs text-green-600">We'll notify you when things are ready. Feel free to switch tabs.</p>
    </div>
  </div>
</div>
