<div data-controller="notification-prompt" class="mt-6">
  <%# Prompt state (default permission) %>
  <div data-notification-prompt-target="prompt" class="hidden text-center">
    <div class="inline-flex items-center gap-3 app-surface border app-border rounded-full pl-4 pr-3 py-2 app-shadow-sm">
      <%= heroicon "bell", variant: :outline, options: { class: "w-4 h-4 app-accent-text shrink-0" } %>
      <span class="text-sm app-text-secondary">Come back later?</span>
      <button type="button"
              data-action="notification-prompt#enable"
              class="text-sm font-medium app-accent-text hover:app-accent-text transition-colors">
        Notify me
      </button>
      <span class="app-border">|</span>
      <button type="button"
              data-action="notification-prompt#dismiss"
              class="text-sm app-text-muted hover:app-text transition-colors">
        No thanks
      </button>
    </div>
  </div>

  <%# Granted state %>
  <div data-notification-prompt-target="granted" class="hidden text-center">
    <div class="inline-flex items-center gap-2 bg-green-50 border border-green-200 rounded-full px-4 py-2">
      <%= heroicon "bell-alert", variant: :solid, options: { class: "w-4 h-4 text-green-500" } %>
      <span class="text-sm text-green-700">Notifications on â€” feel free to switch tabs.</span>
    </div>
  </div>

  <%# Fallback for when prompt is hidden (dismissed/unavailable) %>
  <div data-notification-prompt-target="fallback">
    <p class="text-sm app-text-secondary text-center">Please don't close this page.</p>
  </div>
</div>
