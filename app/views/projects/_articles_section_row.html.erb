<%= tag.div id: "articles-section-#{section&.id || 'uncategorized'}",
    data: { controller: "articles-section" },
    class: "group" do %>
  <%= button_to select_articles_section_project_path(project, section_id: section&.id || "uncategorized"),
      method: :post,
      form: { data: { turbo_stream: true } },
      data: { action: "click->articles-section#select" },
      class: class_names(
        "w-full flex items-center justify-between px-4 py-2.5 hover:bg-gray-100 transition-colors cursor-pointer text-left",
        "bg-white border-l-4 border-indigo-500" => selected,
        "border-l-4 border-transparent" => !selected
      ) do %>
    <span class="text-sm font-medium truncate <%= selected ? 'text-indigo-700' : 'text-gray-700' %>">
      <%= section&.name || "Uncategorized" %>
    </span>
    <span class="ml-2 text-xs font-medium px-2 py-0.5 rounded-full flex-shrink-0 <%= selected ? 'bg-indigo-100 text-indigo-700' : 'bg-gray-200 text-gray-600' %>">
      <%= article_count %>
    </span>
  <% end %>
<% end %>
