<%# Replace entire folder tree to refresh counts and article positions %>
<%= turbo_stream.replace "articles-folder-tree" do %>
  <%= render "projects/articles_folder_tree",
      sections: @project.sections.visible.ordered,
      uncategorized_articles: @project.articles.for_folder_tree.where(section: nil).ordered,
      project: @project,
      selected_article_id: @article.id %>
<% end %>

<%# Update editor to show the new article %>
<%= turbo_stream.replace "articles-editor-frame" do %>
  <%= render "projects/articles_editor",
      article: @article,
      project: @project,
      sections: @sections %>
<% end %>
