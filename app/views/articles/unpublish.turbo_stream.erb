<%= turbo_stream.replace dom_id(@article), partial: "articles/card", locals: { article: @article } %>
<%= turbo_stream.replace "article_header", partial: "articles/header", locals: { article: @article } %>

<%# Update the Articles tab editor %>
<%= turbo_stream.replace "articles-editor-frame" do %>
  <%= render "projects/articles_editor",
      article: @article,
      project: @article.project,
      sections: @article.project.sections.visible.ordered %>
<% end %>

<%# Update articles tab badge %>
<%= turbo_stream.replace "articles-tab-badge" do %>
  <%= render "projects/articles_tab_badge", project: @article.project %>
<% end %>

<%# Update folder tree to refresh published status indicator %>
<%= turbo_stream.replace "articles-folder-tree" do %>
  <%= render "projects/articles_folder_tree",
      sections: @article.project.sections.visible.ordered,
      uncategorized_articles: @article.project.articles.for_folder_tree.where(section: nil).ordered,
      project: @article.project,
      selected_article_id: @article.id %>
<% end %>
